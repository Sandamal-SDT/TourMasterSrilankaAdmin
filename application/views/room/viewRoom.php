<?php $this->load->view('master/header') ?><!-- Jquery Datatables--><link href="<?php echo base_url();?>assets/libs/DataTables-1.10.9/css/dataTables.bootstrap.css" rel="stylesheet" type="text/css"><link href="<?php echo base_url();?>assets/libs/DataTables-1.10.9/css/dataTables.responsive.css" rel="stylesheet" type="text/css"><!--page scripts--><link href="<?php echo base_url();?>assets/styles/customer/customer.css" rel="stylesheet" type="text/css"><link href="<?php echo base_url();?>assets/libs/DateRangePicker/daterangepicker.css" rel="stylesheet" type="text/css"><style>    .tableNoEdit {        border: none;        background-color: transparent;        width: 100%;        text-align: left;    }    .tableNoEdit:focus{        background-color: #F3F9FB;        border: 1px solid #0092FE;        width: 100%;        text-align: left;    }</style><?php    $pageTitle['path']="TMSL > Hotel > ";    $pageTitle['pageTitle']="Room";    $this->load->view('master/navigation',$pageTitle)?><!-- Page Content --><div id="page-wrapper">    <div class="container-fluid">        <div class="row">            <div class="col-sm-12 col-md-12">                <br/>            </div>        </div>        <div class="row">            <ul class="nav nav-tabs">                <li id="tabSearchLink" class="active"><a data-toggle="tab" href="#tabSearch"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Search</a></li>                <li id="tabViewLink" style="display:none"><a data-toggle="tab" href="#tabView"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> View</a></li> <!--display:none-->            </ul>            <div class="tab-content">                <div id="tabSearch" class="tab-pane fade in active">                    <div class="row">                        <div class="col-sm-12 col-md-12">                            <br/>                        </div>                    </div>                    <div class="row">                        <div class="col-sm-12 col-md-12">                            <form class="form-inline">                                <div class="form-group">                                    <div class="input-group">                                        <span class="input-group-addon">                                            <i class="fa fa-bed"></i>                                        </span>                                        <input type="text" class="form-control" id="roomTypeS" placeholder="Room type name">                                        <span class="input-group-btn">                                            <script>var searchControls=['roomTypeS'];</script>                                            <button type="button" id="btnSearch" onclick="searchData('<?php echo base_url('index.php/room/getSearchGrid') ?>',getPostDataSearch(searchControls),'')" class="btn btn-default" aria-label="Left Align">                                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>                                            </button>                                        </span>                                    </div>                                </div>                            </form>                        </div>                    </div>                    <div class="row">                        <div class="col-sm-12 col-md-12">                            <br/>                        </div>                    </div>                    <div id="tableContainer">                        <!-- grid -->                        <?php                            $this->load->view('tools/grid',$gridData);                        ?>                    </div>                </div>                <div id="tabView" class="tab-pane fade">                </div>            </div>        </div>    </div>    <!-- /.container-fluid --></div><!-- /#page-wrapper --><script>    function getPostData(ctrlist){        var room_Id=$('#'+ctrlist[0]).val();        var hotel_Id=$('#hotelId').val();        var room_Type=$('#'+ctrlist[1]).val();        var room_Price=$('#'+ctrlist[2]).val();        var room_Accommodation_Type=$('#'+ctrlist[3]).val();        var room_Comments=$('#'+ctrlist[4]).val();        var season_List = getSeasonPrices();        var post={            'room_Id':room_Id,            'hotel_Id':hotel_Id,            'room_Type':room_Type,            'room_Price':room_Price,            'room_Accommodation_Type':room_Accommodation_Type,            'room_Comments':room_Comments,            'season_List':season_List        };        var postList={            'post':post,            'ctrList':ctrlist        };        return postList;    }    function getPostDataSearch(ctrlist){        var roomType=$('#'+ctrlist[0]).val();        var post={            'room_Type':roomType        };        var postList={            'post':post,            'ctrList':ctrlist        };        return postList;    }    //save function for update/insert    function saveEData(url,postList,refreshUrl){        setJson(url,refreshGrid,postList.post,refreshUrl);        clearCtrl(postList.ctrList);    }    function refreshGrid(){        unLoadEditPad();        var enId=$('#hotelId').val();        var url="<?php echo base_url('index.php/room/refreshGrid') ?>"+"/"+enId;        getJson(url,reloadGrid,null,null);    }    function reloadGrid(data){        $( "#gridContainer").html(data);    }    function viewRoomDetails(data){        //alert(data);        $( "#editPad").html(data);        loadEditPad();    }    function loadEditPad(){        $('html, body').animate({            scrollTop: $("#editPad").offset().top-75        }, 500);        $( "#editPad" ).addClass( "fadeInEf");        $( "#editPad" ).removeClass( "fadeOutEf");        $('.dateRange').daterangepicker();    }    function unLoadEditPad(){        $( "#editPad" ).addClass( "fadeOutEf");        $( "#editPad" ).removeClass( "fadeInEf");    }    //adding a new season    function addNewSeason(){        var rowTemplate = '<tr><td><input type="text" class="tableNoEdit dateRange" placeholder="Date Range"></td><td><input type="text" class="tableNoEdit" placeholder="Room Price"></td></tr>';        $('#tableSeasons tr:last').after(rowTemplate);        $('.dateRange').daterangepicker();    }    //getting date ranges and prices    function getSeasonPrices(){        var seasonList = new Array();        $('#tableSeasons tr').each(function(i){            var season = new Object();            var dates = $(this).children('td').eq(0).children('input').val().trim().split("-");            season.startDate = dates[0];            season.endDate = dates[1];            season.price= $(this).children('td').eq(1).children('input').val().trim();            seasonList.push(season);        });        return seasonList;    }</script><?php $this->load->view('master/footer') ?><!-- Jquery Datatable scripts--><script src="<?php echo base_url();?>assets/libs/DataTables-1.10.9/js/jquery.dataTables.min.js"></script><script src="<?php echo base_url();?>assets/libs/DataTables-1.10.9/js/dataTables.bootstrap.min.js"></script><!-- page scripts --><script src="<?php echo base_url();?>assets/scripts/master/integrate.js"></script><script src="<?php echo base_url();?>assets/libs/DateRangePicker/moment.min.js"></script><script src="<?php echo base_url();?>assets/libs/DateRangePicker/daterangepicker.js"></script><!--stat loader --><?php$this->load->view('tools/loader',$ctrlData);?></body></html>